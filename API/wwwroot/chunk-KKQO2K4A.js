import{Ac as I,Bc as z,E as l,Fc as M,Ga as m,Ha as x,Ia as j,Jc as D,Kb as S,Ma as G,Mc as T,Nc as H,Ub as h,V as a,Y as V,_ as u,ia as g,ib as k,ja as v,kb as y,kc as N,la as A,lc as c,ma as B,mc as O,na as P,nc as d,oa as s,oc as F,pa as i,qa as r,ra as p,rc as R,tc as $,ua as b,uc as _,va as C,vc as E,xc as w,zc as f}from"./chunk-JG4G5KRM.js";var q=class t{fb=l(w);userService=l(T);router=l(y);activatedRoute=l(k);returnUrl="/shop";constructor(){let o=this.activatedRoute.snapshot.queryParams.returnUrl;o&&(this.returnUrl=o)}loginForm=this.fb.group({email:["admin@yourdomain.com"],password:["Admin@123"]});onSubmit(){this.userService.login(this.loginForm.value).subscribe({next:()=>{this.userService.getUserInfo().subscribe(),this.router.navigateByUrl(this.returnUrl)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-login"]],decls:15,vars:1,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["appearance","outline",1,"w-full","mb-4"],["matInput","","formControlName","email","type","email","placeholder","name@example.com"],["appearance","outline",1,"w-full","mb-6"],["matInput","","formControlName","password","type","password","placeholder","Password"],["mat-flat-button","","type","submit","color","primary",1,"w-full","py-2"]],template:function(e,n){e&1&&(i(0,"mat-card",0)(1,"form",1),b("ngSubmit",function(){return n.onSubmit()}),i(2,"div",2)(3,"h1",3),m(4,"Login"),r()(),i(5,"mat-form-field",4)(6,"mat-label"),m(7,"Email address"),r(),p(8,"input",5),r(),i(9,"mat-form-field",6)(10,"mat-label"),m(11,"Password"),r(),p(12,"input",7),r(),i(13,"button",8),m(14,"Sign in"),r()()()),e&2&&(a(),s("formGroup",n.loginForm))},dependencies:[f,R,N,d,F,_,E,S,M,D,h,I],encapsulation:2})};function X(t,o){if(t&1&&(i(0,"mat-error"),m(1),r()),t&2){let e=C();a(),j("",e.label," is required")}}function Y(t,o){t&1&&(i(0,"mat-error"),m(1,"Email is invalid"),r())}var L=class t{constructor(o){this.controlDir=o;this.controlDir.valueAccessor=this}label="";type="text";writeValue(o){}registerOnChange(o){}registerOnTouched(o){}get control(){return this.controlDir.control}static \u0275fac=function(e){return new(e||t)(V(O,2))};static \u0275cmp=u({type:t,selectors:[["app-text-input"]],inputs:{label:"label",type:"type"},decls:6,vars:8,consts:[["appearance","outline",1,"w-full","mb-4"],["matInput","",3,"formControl","type","placeholder"]],template:function(e,n){e&1&&(i(0,"mat-form-field",0)(1,"mat-label"),m(2),r(),p(3,"input",1),g(4,X,2,1,"mat-error"),g(5,Y,2,0,"mat-error"),r()),e&2&&(a(2),x(n.label),a(),s("type",G(n.type))("placeholder",G(n.label))("formControl",n.control),a(),v(n.control.hasError("required")?4:-1),a(),v(n.control.hasError("email")?5:-1))},dependencies:[f,N,d,$,M,D,z,I],encapsulation:2})};function Z(t,o){if(t&1&&(i(0,"li"),m(1),r()),t&2){let e=o.$implicit;a(),x(e.errorMessage)}}function ee(t,o){if(t&1&&(i(0,"div",8)(1,"ul",10),B(2,Z,2,1,"li",null,A),r()()),t&2){let e=C();a(2),P(e.validationErrors)}}var U=class t{fb=l(w);userService=l(T);router=l(y);snack=l(H);validationErrors=[];registerForm=this.fb.group({firstName:["",c.required],lastName:["",c.required],email:["",[c.required,c.email]],password:["",[c.required]]});onSubmit(){this.userService.register(this.registerForm.value).subscribe({next:()=>{this.snack.success("Registration successful - you can now login!"),this.router.navigateByUrl("/user/login")},error:o=>{this.validationErrors=o}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-register"]],decls:12,vars:3,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["label","First name","formControlName","firstName"],["label","Last name","formControlName","lastName"],["label","Email address","formControlName","email"],["label","Password","formControlName","password","type","password"],[1,"mb-3","p-4","bg-red-100","text-red-500"],["mat-flat-button","","type","submit",1,"w-full","py-2",3,"disabled"],[1,"list-disc","px-3"]],template:function(e,n){e&1&&(i(0,"mat-card",0)(1,"form",1),b("ngSubmit",function(){return n.onSubmit()}),i(2,"div",2)(3,"h1",3),m(4,"Register"),r()(),p(5,"app-text-input",4)(6,"app-text-input",5)(7,"app-text-input",6)(8,"app-text-input",7),g(9,ee,4,0,"div",8),i(10,"button",9),m(11,"Register"),r()()()),e&2&&(a(),s("formGroup",n.registerForm),a(8),v(n.validationErrors.length>0?9:-1),a(),s("disabled",n.registerForm.invalid))},dependencies:[f,R,d,F,_,E,S,h,L],encapsulation:2})};var Me=[{path:"login",component:q},{path:"register",component:U}];export{Me as userRoutes};
